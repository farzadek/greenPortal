<!DOCTYPE html>
<html>

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <link rel="icon" href="images/logo-icon.png">

    <title>GreenPortal</title>
    <script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular-route.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.5.0/ui-bootstrap-tpls.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular-cookies.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Crete+Round|Noto+Serif+TC:400,700" rel="stylesheet">
    <script src="js/main.js"></script>
    <script src="js/services.js"></script>
    <script src="js/titles.js"></script>

    </head>

<body id="page-top" ng-app="greenPortalApp" ng-controller="mainCtrl">

    <div ng-if="showLoader" class="lds-ring"><div></div><div></div><div></div><div></div></div>

    <section ng-if="!currentUser || currentUser.type==1">
        <div ng-if="!currentUser" ng-include="'templates/header_notlogged.html'"></div>
        <div ng-if="currentUser" ng-include="'templates/header_logged.html'"></div>

        <div ng-if="!currentUser.special || (currentUser.special && !showSpecialProducts)" ng-include="'templates/section1.html'"></div>
        <div ng-if="currentUser && currentUser.special && showSpecialProducts" ng-include="'templates/section1s.html'"></div>

        <div ng-if="!currentUser.special || (currentUser.special && !showSpecialProducts)" ng-include="'templates/section2.html'"></div>
        <div ng-if="currentUser && currentUser.special && showSpecialProducts" ng-include="'templates/section2s.html'"></div>

        <div ng-if="!currentUser.special || (currentUser.special && !showSpecialProducts)" ng-include="'templates/section3.html'"></div>
        <div ng-if="currentUser && currentUser.special && showSpecialProducts" ng-include="'templates/section3s.html'"></div>

        <div ng-include="'templates/section4.html'"></div>
        <div ng-include="'templates/footer.html'"></div>
    </section>

    <section ng-show="currentUser && currentUser.type==2">
        <div ng-include="'templates/header_logged.html'"></div>
        <div ng-include="'templates/section1ad.html'"></div>
    </section>
    <p id="send"></p>

<!-- LOGIN-MODAL ---------------------------------------------------------------------------------------------------------------- -->    
    <div class="modal fade" id="loginModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{{titles.index.login[lang]}}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form name="loginForm" novalidate>
                    <div class="form-group">
                        <label for="username" class="col-form-label">{{titles.index.username[lang]}}:</label>
                        <input type="text" class="form-control" ng-model="username" id="username">
                    </div>
                    <div class="form-group">
                        <label for="password" class="col-form-label">{{titles.index.password[lang]}}:</label>
                        <input type="password" class="form-control" id="password" ng-model="password">
                    </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" ng-click="checkUserForLogin()" class="btn btn-primary">{{titles.index.login[lang]}}</button>
                </div>
                <p class="errMessage">{{loginMessage}}</p>
            </div>
        </div>
    </div>
    
<!-- SUBSCRIBE-MODAL ---------------------------------------------------------------------------------------------------------------- -->        
        <div class="modal fade" id="subscribeModal" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{{titles.index.subscribe[lang]}}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form name="subscribe_user_form">
                        <div class="form-group">
                            <label class="col-form-label">{{titles.index.name[lang]}}</label>
                            <input type="text" class="form-control" ng-model="subscribe_name" required>
                        </div>
                        <div class="form-group">
                            <label class="col-form-label">{{titles.index.lastname[lang]}}</label>
                            <input type="text" class="form-control" ng-model="subscribe_lastname" required>
                        </div>
                        <div class="form-group">
                            <label class="col-form-label">{{titles.index.email[lang]}}</label>
                            <input type="email" class="form-control" ng-model="subscribe_email" required>
                        </div>
                        <div class="form-group">
                            <label class="col-form-label">{{titles.index.password[lang]}}</label>
                            <input type="password" class="form-control" ng-model="subscribe_psw1" required>
                        </div>
                        <div class="form-group">
                            <label class="col-form-label">{{titles.index.passwordConfirm[lang]}}</label>
                            <input type="password" class="form-control" ng-model="subscribe_psw2">
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-9 col-sm-9">
                                <label>{{titles.index.address[lang]}}</label>
                                <input type="text" class="form-control" ng-model="subscribe_adr">
                            </div>
                            <div class="form-group col-md-3 col-sm-3">
                                <label>{{titles.index.pCode[lang]}}</label>
                                <input type="text" class="form-control" ng-maxlength="6" ng-pattern="/^[aA-zZ]\d{1}[aA-zZ]\d{1}[aA-zZ]\d{1}$/" ng-model="subscribe_cp">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-6 col-sm-6">
                                <label>{{titles.index.city[lang]}}</label>
                                <input type="text" class="form-control" ng-model="subscribe_city">
                            </div>
                            <div class="form-group col-md-4 col-sm-6">
                                <label>{{titles.index.province[lang]}}</label>
                                <select class="form-control" ng-model="subscribe_prov">
                                    <option value="Alberta">Alberta</option>
                                    <option value="British Columbia">British Columbia</option>
                                    <option value="Manitoba">Manitoba</option>
                                    <option value="New Brunswick">New Brunswick</option>
                                    <option value="Newfoundland and Labrador">Newfoundland and Labrador</option>
                                    <option value="Northwest Territories">Northwest Territories</option>
                                    <option value="Nova Scotia">Nova Scotia</option>
                                    <option value="Nunavut">Nunavut</option>
                                    <option value="Ontario">Ontario</option>
                                    <option value="Prince Edward Island">Prince Edward Island</option>
                                    <option value="Quebec">Quebec</option>
                                    <option value="Saskatchewan">Saskatchewan</option>
                                    <option value="Yukon">Yukon</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-form-label">{{titles.index.phoneNo[lang]}}:</label>
                            <input type="text" class="form-control" ng-pattern="/^\d{3}\d{3}\d{4}$/" ng-model="subscribe_phon">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" ng-disabled="!subscribe_user_form.$dirty || subscribe_user_form.$invalid" ng-click="subscribeUser()" class="btn btn-primary">{{titles.index.subscribe[lang]}}</button>
                </div>
                <p class="errMessage">{{subscribeMessage}}</p>
                </div>
            </div>
        </div>

<!-- PRODUCT-MODAL ---------------------------------------------------------------------------------------------------------------- -->    
        <div class="modal fade" id="productModal" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2 class="modal-title">{{productToShow.title}}</h2>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="right">
                            <div class="addBasket">
                                <form>
                                    <div class="form-group">
                                        <label>{{titles.index.selectQty[lang]}}:</label>
                                        <select class="form-control" ng-model="selectedProductWeight" ng-change="productModelChanged(productToShow.id, selectedProductWeight)">  
                                            <option ng-repeat="package in productToShow.price track by $index" ng-value="$index">{{package.weight}} gr - {{package.price}}$</option>
                                        </select>
                                        <div class="quantity">
                                            <i class="fa fa-minus-square" aria-hidden="true" ng-click="decreaseOrder()"></i>
                                            <input type="number" readonly ng-model="order">
                                            <i class="fa fa-plus-square" aria-hidden="true" ng-click="increaseOrder()"></i>
                                        </div>                                 
                                        <button ng-click="addToBasket(productToShow, selectedProductWeight, order)" ng-disabled="!order" class="btn btn-info">{{titles.index.addToBasket[lang]}} <i class="fa fa-shopping-basket" aria-hidden="true"></i></button>
                                        <span class="total" ng-if="order">( {{order*productToShow.price[selectedProductWeight].price|number:2}} $)<sub>+TX</sub></span>
                                    </div>
                                </form>
                            </div>
                            <div class="descript">
                                <ul ng-if="productToShow.deg || productToShow.time">
                                    <li><i class="fa fa-thermometer-three-quarters" aria-hidden="true"></i> {{productToShow.deg}}<sup>&deg;c</sup></li>
                                    <li><i class="fa fa-clock-o" aria-hidden="true"></i></i> {{productToShow.time}}</li>
                                </ul>
                            </div>
                            <div class="rating" ng-if="productToShow.rate">
                                <i class="fa fa-star" aria-hidden="true" ng-if="productToShow.rate[0]"></i>
                                <i class="fa fa-star-o" aria-hidden="true" ng-if="!productToShow.rate[0]"></i>
                                <i class="fa fa-star" aria-hidden="true" ng-if="productToShow.rate[1]"></i>
                                <i class="fa fa-star-o" aria-hidden="true" ng-if="!productToShow.rate[1]"></i>
                                <i class="fa fa-star" aria-hidden="true" ng-if="productToShow.rate[2]"></i>
                                <i class="fa fa-star-o" aria-hidden="true" ng-if="!productToShow.rate[2]"></i>
                                <i class="fa fa-star" aria-hidden="true" ng-if="productToShow.rate[3]"></i>
                                <i class="fa fa-star-o" aria-hidden="true" ng-if="!productToShow.rate[3]"></i>
                                <i class="fa fa-star" aria-hidden="true" ng-if="productToShow.rate[4]"></i>
                                <i class="fa fa-star-o" aria-hidden="true" ng-if="!productToShow.rate[4]"></i>
                            </div>
                            <div class="grade">{{titles.index.grade[lang]}}: <strong>{{productToShow.grade}}</strong></div>
                            <div class="charts">
                                <ul class="nav nav-tabs">
                                    <li class="active" ng-if="productToShow.effects"><a data-toggle="tab" href="#effects">{{titles.productModal.effects[lang]}}</a></li>
                                    <li ng-if="productToShow.medical"><a data-toggle="tab" href="#medical">{{titles.productModal.medical[lang]}}</a></li>
                                    <li ng-if="productToShow.negatives"><a data-toggle="tab" href="#negatives">{{titles.productModal.negatives[lang]}}</a></li>
                                </ul>
        
                                <div class="tab-content">   
                                    <div id="effects" class="tab-pane fadein active" ng-if="productToShow.effects">                             
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                                aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="{'width':productToShow.effects[5]+'%'}">{{productToShow.effects[0]}}
                                            </div>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                                aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="{'width':productToShow.effects[6]+'%'}">{{productToShow.effects[1]}}
                                            </div>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                                aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="{'width':productToShow.effects[7]+'%'}">{{productToShow.effects[2]}}
                                            </div>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                                aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="{'width':productToShow.effects[8]+'%'}">{{productToShow.effects[3]}}
                                            </div>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                                aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="{'width':productToShow.effects[9]+'%'}">{{productToShow.effects[4]}}
                                            </div>
                                        </div>
                                    </div>

                                    <div id="medical" class="tab-pane fadein" ng-if="productToShow.medical">
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                                aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="{'width':productToShow.medical[5]+'%'}">{{productToShow.medical[0]}}
                                            </div>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                                aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="{'width':productToShow.medical[6]+'%'}">{{productToShow.medical[1]}}
                                            </div>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                                aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="{'width':productToShow.medical[7]+'%'}">{{productToShow.medical[2]}}
                                            </div>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                                aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="{'width':productToShow.medical[8]+'%'}">{{productToShow.medical[3]}}
                                            </div>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                                aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="{'width':productToShow.medical[9]+'%'}">{{productToShow.medical[4]}}
                                            </div>
                                        </div>
                                    </div>

                                    <div id="negatives" class="tab-pane fadein" ng-if="productToShow.negatives">
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                                aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="{'width':productToShow.negatives[5]+'%'}">{{productToShow.negatives[0]}}
                                            </div>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                                aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="{'width':productToShow.negatives[6]+'%'}">{{productToShow.negatives[1]}}
                                            </div>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                                aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="{'width':productToShow.negatives[7]+'%'}">{{productToShow.negatives[2]}}
                                            </div>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                                aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="{'width':productToShow.negatives[8]+'%'}">{{productToShow.negatives[3]}}
                                            </div>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
                                                aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="{'width':productToShow.negatives[9]+'%'}">{{productToShow.negatives[4]}}
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <div class="left">
                            <img ng-src="images/{{productToShow.image}}">
                            <p>{{productToShow.text}}</p>
                        </div>
                    </div>
                    <div class="modal-footer"></div>
                </div>
            </div>
        </div>

        
<!-- purchase basket -MODAL ---------------------------------------------------------------------------------------------------------------- -->    
        <div class="modal fade" id="basketModal" tabindex="-1" role="dialog" style="z-index:9999">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                        </button>
                        <h3 ng-if="purchaseProcessStep==1">{{titles.purchase.clietInfoTitle[lang]}}</h3>
                        <h3 ng-if="purchaseProcessStep==2">{{titles.purchase.payment[lang]}}</h3>
                    </div>
                    <div class="modal-body">
                        <!-- step 0 --------------------------------------------------------------------- -->
                        <div ng-if="purchaseProcessStep==0">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>{{titles.index.title[lang]}}</th>
                                        <th>{{titles.index.qty[lang]}}</th>
                                        <th>{{titles.index.price[lang]}}</th>
                                        <th>{{titles.index.total[lang]}}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="item in basket.items">
                                        <td ng-if="item.no>0">{{item.name}} <em>({{item.weight}}gr)</em></td>
                                        <td ng-if="item.no>0">{{item.no}}</td>
                                        <td ng-if="item.no>0">{{item.price | number:2}}</td>
                                        <td ng-if="item.no>0">{{item.price*item.no | number:2}} $</td>
                                    </tr>
                                </tbody>
                                <thead class="total">
                                    <tr>
                                        <th colspan="2">{{titles.index.total[lang]}}</th>
                                        <th colspan="2">{{basket.total | number:2}} $</th>
                                    </tr>
                                    <tr>
                                        <th colspan="2">{{titles.index.tax[lang]}}</th>
                                        <th colspan="2">{{basket.total*0.15 | number:2}} $</th>
                                    </tr>
                                    <tr>
                                        <th colspan="2">{{titles.index.postCost[lang]}}</th>
                                        <th colspan="2">{{postalPrice | number:2}} $</th>
                                    </tr>
                                    <tr ng-if="basket.total>min_purchase_to_free_send">
                                        <th colspan="2">{{titles.index.postCost[lang]}} ({{titles.index.credit[lang]}})</th>
                                        <th colspan="2">-{{postalPrice | number:2}} $</th>
                                    </tr>
                                    <tr>
                                        <th colspan="2">{{titles.index.payable[lang]}}</th>
                                        <th colspan="2">{{basket.subTotal | number:2}} $</th>
                                    </tr>
                                </thead>
                            </table>
                        </div> 
                        <!-- step 1 --------------------------------------------------------------------- -->
                        <div class="confirmText" ng-if="purchaseProcessStep==1">
                            <p>{{titles.purchase.fullName[lang]}}: <strong>{{currentUser.lastname}}, {{currentUser.name}}</strong></p>
                            <p>{{titles.purchase.adress[lang]}}: <strong>{{currentUser.adress}} - {{currentUser.city}}, {{currentUser.province}} - {{currentUser.cp}}</strong></p>
                            <p>{{titles.purchase.phoneNo[lang]}}: <strong>{{currentUser.phone | tel}}</strong></p>
                        </div>
                        <!-- step 2 --------------------------------------------------------------------- -->
                        <div class="confirmText" ng-if="purchaseProcessStep==2">
                            <h4>{{titles.purchase.howPay[lang]}}</h4>
                            <p>{{titles.purchase.howPayText1[lang]}} <strong>({{basket.subTotal | number:2}} $)</strong> {{titles.purchase.howPayText2[lang]}} <strong>x@x.com</strong></p>
                            <p>{{titles.purchase.howPayText3[lang]}}</p>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div>
                            <button ng-if="purchaseProcessStep>0" ng-click="facteurPrevStep()" type="button" class="btn btn-info left-side"><i class="fa fa-angle-double-left" aria-hidden="true"></i> {{titles.index.previous[lang]}}</button>
                            <button ng-if="purchaseProcessStep<2" ng-click="facteurNextStep()" type="button" class="btn btn-primary right-side">{{titles.index.proceed[lang]}} <i class="fa fa-angle-double-right" aria-hidden="true"></i></button>
                            <button ng-if="purchaseProcessStep==2" ng-click="purchaseConfirm()" type="button" class="btn btn-primary right-side">{{titles.index.confirm[lang]}}</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

<!-- facteur only to show - MODAL ---------------------------------------------------------------------------------------------------------------- -->    
<div class="modal fade" id="teaOnlyToShowModal" tabindex="-1" role="dialog" style="z-index:9999">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div>
                    <table class="table">
                        <thead>
                            <tr>{{titles.showFacteurModal.date[lang]}}: <strong>{{orderToShow.date}}</strong></tr>
                            <tr>
                                <th>{{titles.index.title[lang]}}</th>
                                <th>{{titles.index.qty[lang]}}</th>
                                <th>{{titles.index.price[lang]}}</th>
                                <th>{{titles.index.total[lang]}}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="item in orderToShow.products">
                                <td ng-if="item.no>0">{{item.name}} ({{item.weight}} gr)</td>
                                <td ng-if="item.no>0">{{item.no}}</td>
                                <td ng-if="item.no>0">{{item.price | number:2}}</td>
                                <td ng-if="item.no>0">{{item.price*item.no | number:2}} $</td>
                            </tr>
                        </tbody>
                        <thead class="total">
                            <tr>
                                <th colspan="2">{{titles.index.total[lang]}}</th>
                                <th colspan="2">{{orderToShow.total[0] | number:2}} $</th>
                            </tr>
                            <tr>
                                <th colspan="2">{{titles.index.tax[lang]}}</th>
                                <th colspan="2">{{orderToShow.total[1] | number:2}} $</th>
                            </tr>
                            <tr>
                                <th colspan="2">{{titles.index.postCost[lang]}}</th>
                                <th colspan="2">{{orderToShow.total[2] | number:2}} $</th>
                            </tr>
                            <tr ng-if="orderToShow.total[3]">
                                <th colspan="2">{{titles.index.postCost[lang]}} ({{titles.index.credit[lang]}})</th>
                                <th colspan="2">{{orderToShow.total[3] | number:2}} $</th>
                            </tr>
                            <tr>
                                <th colspan="2">{{titles.index.payable[lang]}}</th>
                                <th colspan="2">{{orderToShow.total[4] | number:2}} $</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td ng-if="orderToShow.sent">{{titles.showFacteurModal.moneyReceivedDate[lang]}}: {{orderToShow.payed}}</td>
                            </tr>
                        </tbody>
                    </table>
                    <p ng-if="!orderToShow.payed">
                        {{titles.showFacteurModal.waitMoney[lang]}} <a><i class="fa fa-question-circle" aria-hidden="true"></i> {{titles.showFacteurModal.howTo[lang]}}</a><br/>
                        {{titles.showFacteurModal.alreadyPaid[lang]}} {{titles.showFacteurModal.contact[lang]}}
                    </p>
                    <p ng-if="orderToShow.payed && !orderToShow.sent">{{titles.showFacteurModal.facteurNotSent[lang]}}</p>
                    <p ng-if="orderToShow.payed && orderToShow.sent">
                        {{titles.showFacteurModal.sendDate[lang]}}: {{orderToShow.sent}}<br/>
                        {{titles.showFacteurModal.notReceivedMsg[lang]}} {{titles.showFacteurModal.contact[lang]}}</p>
                </div>
            </div>
        </div>
    </div>
</div>
    
<!-- USER PROFILE-MODAL ---------------------------------------------------------------------------------------------------------------- -->    
            <div class="modal fade" id="userProfileModal" tabindex="-1" role="dialog">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                                <ul class="nav nav-tabs">
                                    <li class="active"><a data-toggle="tab" href="#profile">{{titles.index.profile[lang]}}</a></li>
                                    <li><a data-toggle="tab" href="#membership">{{titles.index.membership[lang]}}</a></li>
                                    <li><a data-toggle="tab" href="#purchase">{{titles.index.purchases[lang]}}</a></li>
                                </ul>


                                <div class="tab-content">

                                    <div id="profile" class="tab-pane fade in active">
                                        <form name="userProfileForm">
                                            <div class="row">
                                                <div class="form-row">
                                                    <div class="form-group col-md-6 col-sm-6">
                                                        <label>{{titles.index.name[lang]}}</label>
                                                        <input type="text" class="form-control" ng-model="currentUser.name" required>
                                                    </div>
                                                    <div class="form-group col-md-6 col-sm-6">
                                                        <label>{{titles.index.lastname[lang]}}</label>
                                                        <input type="text" class="form-control"ng-model="currentUser.lastname" required>
                                                    </div>
                                                </div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-9 col-sm-9">
                                                        <label>{{titles.index.address[lang]}}</label>
                                                        <input type="text" class="form-control" ng-model="currentUser.adress">
                                                    </div>
                                                    <div class="form-group col-md-3 col-sm-3">
                                                        <label>{{titles.index.pCode[lang]}}</label>
                                                        <input type="text" class="form-control" ng-maxlength="6" ng-pattern="/^[aA-zZ]\d{1}[aA-zZ]\d{1}[aA-zZ]\d{1}$/" ng-model="currentUser.cp">
                                                    </div>
                                                </div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-6 col-sm-6">
                                                        <label>{{titles.index.city[lang]}}</label>
                                                        <input type="text" class="form-control" ng-model="currentUser.city">
                                                    </div>
                                                    <div class="form-group col-md-6 col-sm-6">
                                                        <label>{{titles.index.province[lang]}}</label>
                                                        <select class="form-control" ng-model="currentUser.province">
                                                            <option value="Alberta">Alberta</option>
                                                            <option value="British Columbia">British Columbia</option>
                                                            <option value="Manitoba">Manitoba</option>
                                                            <option value="New Brunswick">New Brunswick</option>
                                                            <option value="Newfoundland and Labrador">Newfoundland and Labrador</option>
                                                            <option value="Northwest Territories">Northwest Territories</option>
                                                            <option value="Nova Scotia">Nova Scotia</option>
                                                            <option value="Nunavut">Nunavut</option>
                                                            <option value="Ontario">Ontario</option>
                                                            <option value="Prince Edward Island">Prince Edward Island</option>
                                                            <option value="Quebec">Quebec</option>
                                                            <option value="Saskatchewan">Saskatchewan</option>
                                                            <option value="Yukon">Yukon</option>
                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-6 col-sm-6">
                                                        <label class="col-form-label">{{titles.index.phoneNo[lang]}}:</label>
                                                        <input type="text" class="form-control" ng-pattern="/^\d{3}\d{3}\d{4}$/" ng-model="currentUser.phone">
                                                    </div>
                                                </div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-6 col-sm-6">
                                                        <label>{{titles.index.username[lang]}}</label>
                                                        <input type="email" class="form-control" ng-model="currentUser.username" required>
                                                    </div>
                                                </div>
                                            </div>
                                            <button ng-click="saveUserProfile()" ng-disabled="!userProfileForm.$dirty || userProfileForm.$invalid" class="btn btn-primary">{{titles.index.save[lang]}}</button>
                                        </form>                            
                                    </div>

                                    <div id="membership" class="tab-pane fade">
                                        <div class="row">
                                            <div class="form-group col-md-6 col-sm-6">
                                                <label>{{titles.index.client[lang]}}</label>
                                                <input type="file" file-input="files" accept="image/*"/>
                                            </div>
                                            <div class="form-group col-md-6 col-sm-6">
                                                <button ng-disabled="!files" ng-click="uploadFile()" class="btn btn-primary">Upload File</button>
                                            </div>
                                        </div>
                                        
                                        <form name="userConditionForm">
                                            <div class="row condition">
                                                <ul>
                                                    <li><input type="checkbox" id="checkboxOne" ng-model="currentUser.condition[0]" ng-checked="currentUser.condition[0]"><label for="checkboxOne">{{titles.index.iHave19[lang]}}</label></li>
                                                    <li><input type="checkbox" id="checkboxTwo" ng-model="currentUser.condition[1]" ng-checked="currentUser.condition[1]"><label for="checkboxTwo">{{titles.index.iAmCitizen[lang]}}</label></li>
                                                    <li><input type="checkbox" id="checkboxThree" ng-model="currentUser.condition[2]" ng-checked="currentUser.condition[2]"><label for="checkboxThree">{{titles.index.condition3[lang]}}</label></li>
                                                </ul>
                                            </div>
                                            <hr/>
                                            <div class="row">
                                                <button ng-click="saveUserConditions()" ng-disabled="!userConditionForm.$dirty" class="btn btn-primary">{{titles.index.save[lang]}}</button>
                                            </div>
                                        </form>

                                        <div class="row docs">
                                            <div class="col-xs-6 col-sm-4" ng-repeat="doc in currentUserDocs" ng-if="doc.active">
                                                <a ng-click="removeImageFromProfile(doc)"><i class="fa fa-times" aria-hidden="true"></i></a>
                                                <img ng-src="images/docs/{{doc.name}}">
                                            </div>
                                        </div>
                                    </div>

                                    <div id="purchase" class="tab-pane fade">
                                        <div class="orders" ng-if="pendingPurchases">
                                            <h4>{{titles.index.pendingPurchase[lang]}}</h4>
                                            <table class="table">
                                                <tr>
                                                    <th>{{titles.index.purchaseDate[lang]}}</th>
                                                    <th>{{titles.index.payable[lang]}}</th>
                                                    <th>{{titles.index.payed[lang]}}</th>
                                                    <th>{{titles.index.send[lang]}}</th>
                                                </tr>
                                                <tr ng-repeat="order in pendingPurchases">
                                                    <td><a ng-click="showFacteur_ToShow(order)" data-toggle="modal" data-target="#teaOnlyToShowModal">{{order.date | date:shortDate}}</a></td>
                                                    <td>{{order.total[4]|number:2}}$</td>
                                                    <td><i ng-if="!order.payed" class="fa fa-times" aria-hidden="true"></i>{{order.payed|date:shortDate}}</td>
                                                    <td><i ng-if="!order.sent" class="fa fa-times" aria-hidden="true"></i>{{order.sent|date:shortDate}}</td>
                                                </tr>
                                            </table>
                                        </div>                                    
                                    </div>
                                </div>
                        </div>
                    </div>
                </div>
            </div>

                
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="style/style.css" rel="stylesheet">

</body>

</html>